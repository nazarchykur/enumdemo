package org.example.enumdemo.strategy;

/**
 * –ü—Ä–∏–∫–ª–∞–¥ ‚Ññ4: Enum —è–∫ Strategy (Demo 2).
 *
 * ‚úÖ –Ü–¥–µ—è:
 *   - –ú–∞—î–º–æ —Ä—ñ–∑–Ω—ñ "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –∑–Ω–∏–∂–∫–∏" (DiscountType)
 *   - –ö–æ–∂–µ–Ω enum-–µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∞–ª—ñ–∑—É—î —Å–≤—ñ–π —Å–ø–æ—Å—ñ–± —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É
 *   - –¶–µ –º—ñ–Ω—ñ-–ø–∞—Ç–µ—Ä–Ω Strategy –ø—Ä—è–º–æ –≤ enum
 *
 * ‚ùì –ù–∞–≤—ñ—â–æ —Ç–∞–∫ —Ä–æ–±–∏—Ç–∏?
 *   - –Ø–∫—â–æ –Ω–∞–±—ñ—Ä –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–æ–º–∏–π —ñ –æ–±–º–µ–∂–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∏–ø–∏ –∑–Ω–∏–∂–æ–∫)
 *   - –ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É (—Å–≤–æ—é —Ñ–æ—Ä–º—É–ª—É)
 *   - –ú–∏ —Ö–æ—á–µ–º–æ —É–Ω–∏–∫–Ω—É—Ç–∏ –¥–µ—Å—è—Ç–∫—ñ–≤ if-else —á–∏ switch
 *
 * ‚ö†Ô∏è –ö–æ–ª–∏ –Ω–µ –≤–∞—Ä—Ç–æ?
 *   - –Ø–∫—â–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è ‚Üí –∫—Ä–∞—â–µ –≤–∏–Ω–µ—Å—Ç–∏ –≤ –æ–∫—Ä–µ–º—ñ –∫–ª–∞—Å–∏
 *   - –Ø–∫—â–æ –ª–æ–≥—ñ–∫–∞ –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–∞ ‚Üí enum —Å—Ç–∞–Ω–µ "God object"
 */
public class StrategyDemo2 {

    public static void main(String[] args) {
        double basePrice = 100.0;

        // 1Ô∏è‚É£ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–Ω–∏–∂–∫–∏ SEASONAL
        double seasonalPrice = DiscountType.SEASONAL.applyDiscount(basePrice);
        System.out.println("1. Seasonal discount: " + seasonalPrice);

        // 2Ô∏è‚É£ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–Ω–∏–∂–∫–∏ LOYALTY
        double loyaltyPrice = DiscountType.LOYALTY.applyDiscount(basePrice);
        System.out.println("2. Loyalty discount: " + loyaltyPrice);

        // 3Ô∏è‚É£ –ë–µ–∑ –∑–Ω–∏–∂–∫–∏
        double noDiscount = DiscountType.NONE.applyDiscount(basePrice);
        System.out.println("3. No discount: " + noDiscount);

        // 4Ô∏è‚É£ –ü–µ—Ä–µ–±—ñ—Ä —É—Å—ñ—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π
        System.out.println("\nAvailable discount types:");
        for (DiscountType type : DiscountType.values()) {
            System.out.println("- " + type.name() + " | percent=" + type.getPercent());
        }
    }
}

/**
 * Enum DiscountType –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Strategy.
 *
 * üîπ –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç enum –º–∞—î:
 *   - –ø–æ–ª–µ percent (—Ä–æ–∑–º—ñ—Ä –∑–Ω–∏–∂–∫–∏)
 *   - —Å–≤–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –º–µ—Ç–æ–¥—É applyDiscount()
 *
 * ‚úÖ –¶–µ –∑—Ä—É—á–Ω–æ, –±–æ:
 *   - –í–µ—Å—å –∫–æ–¥ –∑—ñ–±—Ä–∞–Ω–∏–π –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
 *   - –õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∑–Ω–∏–∂–∫—É (–ø—Ä–æ—Å—Ç–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç enum)
 *   - –ö–æ–¥, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î DiscountType, –Ω–µ –º—ñ–Ω—è—î—Ç—å—Å—è
 */
enum DiscountType {
    SEASONAL(10) {
        @Override
        public double applyDiscount(double price) {
            return price - (price * getPercent() / 100.0);
        }
    },
    LOYALTY(5) {
        @Override
        public double applyDiscount(double price) {
            return price - (price * getPercent() / 100.0);
        }
    },
    NONE(0) {
        @Override
        public double applyDiscount(double price) {
            return price; // –±–µ–∑ –∑–Ω–∏–∂–∫–∏
        }
    };

    private final int percent;

    DiscountType(int percent) {
        this.percent = percent;
    }

    public int getPercent() {
        return percent;
    }

    /**
     * –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –ø–æ-—Ä—ñ–∑–Ω–æ–º—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ enum-–µ–ª–µ–º–µ–Ω—Ç–∞.
     * –¶–µ —ñ —î "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—è".
     */
    public abstract double applyDiscount(double price);
}


/*
üîπ 1. –ü–æ–ª—è
    –ú–∏ –¥–æ–¥–∞—î–º–æ –ø–æ–ª–µ (percent, description, code —Ç–æ—â–æ) –¥–æ enum, —è–∫—â–æ –∫–æ–∂–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –º–∞—î —è–∫–µc—å –¥–æ–¥–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –ø–æ–≤‚Äô—è–∑–∞–Ω–µ –∑ –Ω–µ—é.
    –¶–µ –ø–æ–ª–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏.
    –ü–æ–ª—è —É enum –∑–∞–∑–≤–∏—á–∞–π —Ä–æ–±–ª—è—Ç—å private final ‚Üí –±–æ enum –Ω–µ–∑–º—ñ–Ω–Ω—ñ (immutable).

üîπ 2. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    –£ enum –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≤–∂–¥–∏ private (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —è–≤–Ω–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω–æ).
    –ß–æ–º—É? –¢–æ–º—É —â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ enum —Å—Ç–≤–æ—Ä—é—î JVM –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–ª–∞—Å—É.
    –¢–∏ –Ω–µ –º–æ–∂–µ—à —Å—Ç–≤–æ—Ä–∏—Ç–∏ enum –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é new.
    –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ª–∏—à–µ –¥–ª—è –æ–≥–æ–ª–æ—à–µ–Ω–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, SEASONAL(10)).

üîπ 3. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏
    –Ø–∫—â–æ enum –º—ñ—Å—Ç–∏—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –º–µ—Ç–æ–¥, —Ç–æ –∫–æ–∂–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –º—É—Å–∏—Ç—å –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏.
    –¶–µ —Å—Ö–æ–∂–µ –Ω–∞ —Ç–µ, —è–∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å –∑–º—É—à—É—î –ø—ñ–¥–∫–ª–∞—Å–∏ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏ –º–µ—Ç–æ–¥–∏.
    Enum –Ω–µ –º–æ–∂–Ω–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞—Ç–∏, —Ç–æ–º—É —î–¥–∏–Ω–µ –º—ñ—Å—Ü–µ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É ‚Äî —Ü–µ –∫–æ–∂–µ–Ω enum-–µ–ª–µ–º–µ–Ω—Ç.

üîπ 4. –ú–µ—Ç–æ–¥–∏ (getter‚Äô–∏)
    –Ø–∫—â–æ –ø–æ–ª–µ –ø—Ä–∏–≤–∞—Ç–Ω–µ, —Ç–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ –º–æ–∂–Ω–∞ –ª–∏—à–µ —á–µ—Ä–µ–∑ getter.
    –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞, –±–æ –Ω–∞–ø—Ä—è–º—É percent —á–∏ description –∑–∑–æ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–µ –±—É–¥—É—Ç—å.

üìò –í–∏—Å–Ω–æ–≤–∫–∏
    –ü–æ–ª—è –≤ enum –ø–æ—Ç—Ä—ñ–±–Ω—ñ, —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ, —â–æ –Ω–∞–ª–µ–∂–∞—Ç—å –∫–æ–∂–Ω–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—É.
    –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≤–∂–¥–∏ private ‚Üí enum —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ª–∏—à–µ JVM, –Ω–µ –≤—Ä—É—á–Ω—É.
    –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –º–µ—Ç–æ–¥ –∑–º—É—à—É—î –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É ‚Üí —Ü–µ —ñ —î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è.
    Getter‚Äô–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–æ–ª—ñ–≤, –±–æ –ø–æ–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ñ.



üìò –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è

üîπ –ß–æ–º—É enum = Strategy?
    –£ –∫–ª–∞—Å–∏—á–Ω–æ–º—É –ø–∞—Ç–µ—Ä–Ω—ñ Strategy —î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, DiscountStrategy), –∞ –∫–æ–∂–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–ª–∞—Å —Ä–µ–∞–ª—ñ–∑—É—î —Å–≤–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
    –£ –≤–∏–ø–∞–¥–∫—É enum: –º–∏ "–≤–±—É–¥—É–≤–∞–ª–∏" —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä—è–º–æ —É –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ ‚Üí –∫–æ–∂–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ = –º—ñ–Ω—ñ-–∫–ª–∞—Å –∑—ñ —Å–≤–æ—î—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é.
    –¢–∞–∫–∏–º —á–∏–Ω–æ–º –º–∏ –ø–æ–∑–±—É–ª–∏—Å—è –∫—É–ø–∏ if-else —á–∏ switch —É –∫–æ–¥—ñ.

üîπ –ö–æ–ª–∏ —Ü–µ –∑—Ä—É—á–Ω–æ?
    –§—ñ–∫—Å–æ–≤–∞–Ω–∏–π –Ω–∞–±—ñ—Ä –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ (–∑–Ω–∏–∂–∫–∏, –≤–∞–ª—é—Ç–∏, —Ç–∏–ø–∏ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π, —Å—Ç–∞–Ω–∏ –∑–∞–¥–∞—á—ñ).
    –ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–∞—î —Å–≤–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É (—Ä—ñ–∑–Ω—ñ —Ñ–æ—Ä–º—É–ª–∏, –ø—Ä–∞–≤–∏–ª–∞).
    –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å (–Ω–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó).

üîπ –ü–ª—é—Å–∏
    ‚úÖ –õ–∞–∫–æ–Ω—ñ—á–Ω—ñ—Å—Ç—å ‚Äî –≤—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ.
    ‚úÖ –ö–æ–¥ –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç–∏: –≤—ñ–¥—Ä–∞–∑—É –≤–∏–¥–Ω–æ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —ñ —ó—Ö–Ω—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
    ‚úÖ –õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø: –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç —É enum.

üîπ –ú—ñ–Ω—É—Å–∏
    ‚ùå –Ø–∫—â–æ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –¥—É–∂–µ –±–∞–≥–∞—Ç–æ ‚Üí enum —Å—Ç–∞–Ω–µ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–º.
    ‚ùå –Ø–∫—â–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Å–∫–ª–∞–¥–Ω–∞ ‚Üí –∫–æ–¥ –≤–∞–∂–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ (–∫—Ä–∞—â–µ –æ–∫—Ä–µ–º—ñ –∫–ª–∞—Å–∏).
    ‚ùå –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –ë–î —á–∏ –∫–æ–Ω—Ñ—ñ–≥—ñ–≤).

üîπ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ StrategyDemo1

    Demo1: –ø—Ä–∏–∫–ª–∞–¥ –∑ NotificationType (EMAIL/SMS/PUSH).
        ‚Üí –ü–æ–∫–∞–∑—É—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –∞–ª–µ –±—ñ–ª—å—à–µ —è–∫ "—Ä—ñ–∑–Ω—ñ –∫–∞–Ω–∞–ª–∏ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π".

    Demo2: –ø—Ä–∏–∫–ª–∞–¥ —ñ–∑ DiscountType (–∑–Ω–∏–∂–∫–∏).
        ‚Üí –ë–ª–∏–∂—á–µ –¥–æ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ (—Ñ–æ—Ä–º—É–ª–∏/—Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏).

üìå –í–∏—Å–Ω–æ–≤–æ–∫:
    –Ø–∫—â–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–±–º–µ–∂–µ–Ω—ñ —ñ —Ä—ñ–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è ‚Üí enum-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—è = ‚úîÔ∏è.
    –Ø–∫—â–æ –ª–æ–≥—ñ–∫–∞ –≤–µ–ª–∏–∫–∞ —ñ —Å–∫–ª–∞–¥–Ω–∞ ‚Üí –∫—Ä–∞—â–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å + –æ–∫—Ä–µ–º—ñ –∫–ª–∞—Å–∏ (—á–∏—Å—Ç–∏–π –ø–∞—Ç–µ—Ä–Ω Strategy).
 */